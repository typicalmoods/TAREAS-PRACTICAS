<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Biblioteca</title>
</head>
<body>
    <script>
        //Definimos una función libro --> Actúa como constructor
        //this--> Hace referencia al objeto en el que estoy
        //push --> Agregar elementos al final de un array

        function Libro(titulo, autor, anoPublicacion, genero){
            this.titulo = titulo;
            this.autor = autor;
            this.anoPublicacion = anoPublicacion;
            this.genero = genero;
        }

        function imprimirInfoLibro(libro){
            console.log(`Titulo: ${libro.titulo}`);
            console.log(`Autor: ${libro.autor}`);
            console.log(`Año de publicación: ${libro.anoPublicacion}`);
            console.log(`Género: ${libro.genero}`);
        }

        function agregarLibro(biblioteca, libro){
            biblioteca.push(libro);
        }

        function buscarLibroPorAutor(biblioteca, autor){
            //filter --> Crear un nuevo array que contiene solo los libros
            //cuyo autor sea el determinado
            return biblioteca.filter(libro => libro.autor === autor);
        }

        let biblioteca = [];
        const libro1 = new Libro("El señor de los anillos", "J.R.R Tolkien", 1999, "ficción");
        const libro2 = new Libro("Cien años de soledad", "Gabriel Garcia Márquez", 1900, "drama");

        agregarLibro(biblioteca, libro1);
        agregarLibro(biblioteca, libro2);

        console.log("Información del libro 1: ");
        imprimirInfoLibro(libro1);
        console.log("Información del libro 2: ");
        imprimirInfoLibro(libro2);

        console.log("Libros del autor J.R.R Tolkien: ");
        const librosTolkien = buscarLibroPorAutor(biblioteca,"J.R.R Tolkien");
        librosTolkien.forEach(libro => imprimirInfoLibro(libro));
    </script>
</body>
</html>